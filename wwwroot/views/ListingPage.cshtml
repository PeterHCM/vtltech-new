@using Umbraco.Cms.Core.Models.PublishedContent
@using Umbraco.Extensions
@inherits UmbracoViewPage
@inject IPublishedValueFallback PublishedValueFallback

@{
    Layout = "layout.cshtml";

    var pageTitle = Model.Name;
    var items = Model.Children()
        .Where(x => x.IsVisible(PublishedValueFallback) && !x.Value<bool>("naviHide"))
        .ToArray();

    var viewMoreText = Umbraco.GetDictionaryValue("viewMoreText") ?? "Xem chi tiết →";
    var noContentText = Umbraco.GetDictionaryValue("noContentText") ?? "Không có nội dung để hiển thị.";
}

<section class="mx-auto py-8">
    <h1 class="text-3xl font-bold text-primary mb-6">@pageTitle</h1>

    @if (items.Any())
    {
        <div class="grid gap-6 md:grid-cols-2">
            @foreach (var item in items)
            {
                var title = item.Name;
                var intro = item.Value<string>("introtext");

                <article class="bg-white border border-gray-200 dark:bg-neutral-900 dark:border-gray-700 p-6 rounded-lg shadow-xl hover:shadow-2xl transition-shadow duration-300">
                    <h2 class="text-xl font-semibold text-primary mb-2">@title</h2>
                    @if (!string.IsNullOrWhiteSpace(intro))
                    {
                        <p class="text-sm text-gray-800 dark:text-slogan leading-relaxed text-justify">@intro</p>
                    }
                    <a href="@item.Url()" class="inline-block mt-4 text-gray-800 dark:text-slogan hover:text-primary text-sm font-medium">
                        @viewMoreText
                    </a>
                </article>
            }
        </div>
    }
    else
    {
        <p class="text-gray-800 dark:text-slogan">@noContentText</p>
    }
</section>