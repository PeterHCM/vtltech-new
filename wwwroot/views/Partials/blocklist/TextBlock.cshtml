@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>
@using Umbraco.Cms.Web.Common.PublishedModels
@using Umbraco.Extensions
@using Umbraco.Cms.Core.Strings

@{
    var themeObj = ViewData["Theme"];
    var bgClass = ThemeValue(themeObj, "BgClass", "bg-white");
    var headingClass = ThemeValue(themeObj, "HeadingClass", "text-primary");
    var proseClass = ThemeValue(themeObj, "ProseClass", "prose prose-sm md:prose-base text-gray-800");

    var content = Model.Content;
    var title = content?.Value<string>("title");
    var bodyText = content?.Value<IHtmlEncodedString>("bodyText");
}

<section class="py-18 px-4 md:px-8 lg:px-24 @bgClass">
    <div class="max-w-4xl mx-auto">
        @if (!string.IsNullOrWhiteSpace(title))
        {
            <h2 class="text-2xl md:text-3xl font-bold mb-4 @headingClass">
                @title
            </h2>
        }
        @if (bodyText != null && !string.IsNullOrWhiteSpace(bodyText.ToHtmlString()))
        {
            <div class="@proseClass">
                @bodyText
            </div>
        }
    </div>
</section>

@functions {
    public string ThemeValue(object theme, string key, string fallback)
    {
        return theme?.GetType().GetProperty(key)?.GetValue(theme)?.ToString() ?? fallback;
    }
}
