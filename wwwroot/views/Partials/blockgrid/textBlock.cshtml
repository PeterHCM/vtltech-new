@inherits UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockGridItem>
@using Umbraco.Extensions

@{
    var content = Model.Content;
    var settings = Model.Settings;

    var columnSpanValue = ((int?)Model.ColumnSpan).GetValueOrDefault(12);
    var rowSpanValue = ((int?)Model.RowSpan).GetValueOrDefault(1);

    // Responsive layout: full width on mobile, grid span on larger screens
    var blockClass = $"col-span-12 row-span-12 sm:col-span-12 lg:col-span-{columnSpanValue} sm:row-span-{rowSpanValue}";

    // Tailwind layout classes
    var darkModeClasses = "bg-white text-gray-900 dark:bg-gray-800 dark:text-gray-100";
    var paddingClass = "p-4 sm:p-6";
    var roundingClass = "rounded-lg shadow-md";

    // Nội dung block
    var title = content.Value<string>("title");
    var description = content.Value<string>("description");
    var body = content.Value("body");
}

<div class="@blockClass">
    <div class="@paddingClass @roundingClass @darkModeClasses h-full">
        @if (!string.IsNullOrEmpty(title))
        {
            <h2 class="text-xl sm:text-2xl font-bold mb-2">@title</h2>
        }

        @if (!string.IsNullOrEmpty(description))
        {
            <p class="text-sm mb-4 opacity-75 leading-relaxed">@description</p>
        }

        @if (body != null)
        {
            @body
        }

        @if (string.IsNullOrEmpty(title) && string.IsNullOrEmpty(description) && body == null)
        {
            <p class="text-red-500 opacity-50">Text Block - Chưa nhập nội dung.</p>
        }
    </div>
</div>
