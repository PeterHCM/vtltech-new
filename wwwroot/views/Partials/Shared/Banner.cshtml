@inherits UmbracoViewPage<IPublishedContent>

@{
    var currentPage = Model;
    var title = currentPage.Name;
    var description = currentPage.Value<string>("pageDescription"); // optional
    var ancestors = currentPage.Ancestors().Where(x => x.Level > 1).OrderBy(x => x.Level).ToList();
    var bannerImage = currentPage.Value<IPublishedContent>("bannerImage");
    var currentDomain = Context.Request.Host.Value;
    var isIntranet = currentDomain.Contains("intranet");

    // Thêm logic kiểm tra ảnh mặc định
    var imageUrl = bannerImage?.Url() ?? "https://n.vtltech.com.vn/media/wmld4zgl/vtl_eaton_mtl.png";
}
@if(!isIntranet)
{
    <section class="relative py-10">
        <div class="absolute inset-0">
            <img src="@imageUrl" alt="Banner" class="w-full h-full object-cover opacity-50" />
        </div>
        <div class="relative z-10">
            <!-- Breadcrumb -->
            <nav aria-label="Breadcrumb" class="mb-4 text-sm text-gray-500 dark:text-gray-400 container mx-auto px-6 md:px-12 lg:px-24">
                <ol class="flex flex-wrap items-center space-x-2">
                    <li>
                        <a href="/" class="hover:text-primary font-medium">Trang chủ</a>
                    </li>
                    @foreach (var ancestor in ancestors)
                    {
                        <li>
                            <span class="mx-1 text-gray-400 dark:text-gray-500">/</span>
                            <a href="@ancestor.Url()" class="hover:text-primary dark:hover:text-white">@ancestor.Name</a>
                        </li>
                    }
                    <li>
                        <span class="mx-1 text-gray-400 dark:text-gray-500">/</span>
                        <span class="text-gray-800 dark:text-white font-semibold">@title</span>
                    </li>
                </ol>
            </nav>

            <!-- Tiêu đề -->
            <div class="container mx-auto px-6 md:px-12 lg:px-24">
                <h2 class="text-3xl md:text-5xl font-bold text-gray-800 dark:text-white">@title</h2>

                <!-- Mô tả ngắn -->
                @if (!string.IsNullOrWhiteSpace(description))
                {
                    <p class="mt-4 text-lg text-gray-600 dark:text-gray-300">@description</p>
                }
            </div>
        </div>
    </section>
}
else
{
    <nav aria-label="Breadcrumb" class="my-4">
        <ol class="flex flex-wrap items-center space-x-2 text-sm text-gray-600 dark:text-gray-300">
            <li>
                <a href="/" class="hover:text-primary dark:hover:text-white font-medium">Trang chủ</a>
            </li>
            @foreach (var ancestor in ancestors)
            {
                <li>
                    <span class="mx-1 text-gray-400 dark:text-gray-500">/</span>
                    <a href="@ancestor.Url()" class="hover:text-primary dark:hover:text-white">@ancestor.Name</a>
                </li>
            }
            <li>
                <span class="mx-1 text-gray-400 dark:text-gray-500">/</span>
                <span class="text-gray-800 dark:text-white font-semibold">@currentPage.Name</span>
            </li>
        </ol>
    </nav>
}
